@use "../global" as *;

.p-map {
  padding-top: rem(40);
  padding-bottom: rem(60);

  @include mq(md) {
    padding-top: rem(60);
    padding-bottom: rem(100);
  }

  @include mq(lg) {
    padding-top: rem(80);
    padding-bottom: rem(200);
  }
}

.p-map__content {
  position: relative;
}

.p-map__svg {
  max-width: rem(1144);
  width: 100%;
  margin-inline: auto;
}

.p-map__svg svg {
  width: 100%;
  height: auto;
  display: block;
}

/* SVG：地方エリア（塗り部分） */
.p-map__svg .map-area {
  cursor: pointer;
  transition: opacity 0.3s ease;
}

.p-map__svg .map-area:hover {
  opacity: 0.8;
}

/* SVG：ボタン（黒いラベル） */
.p-map__svg .map-btn {
  cursor: pointer;
  transition: transform 0.3s ease;
  transform-origin: center;
  transform-box: fill-box; // SVGでscaleが安定する
}

.p-map__svg .map-btn:hover {
  transform: scale(1.05);
}

.p-map__svg .map-btn rect {
  transition: fill 0.3s ease;
}

.p-map__svg .map-btn:hover rect {
  fill: #333;
}

/* モーダル */
.p-map-modal {
  opacity: 0;
  visibility: hidden;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  transition: 0.3s ease-in-out;
}

.p-map-modal.is-active {
  opacity: 1;
  visibility: visible;
}

.p-map-modal__overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  cursor: pointer;
}

.p-map-modal__content {
  position: relative;
  width: calc(100% - #{rem(40)});
  max-width: rem(1100);
  max-height: 80vh;
  margin: 5vh auto;
  background-color: #fff;
  border: rem(5) solid #37af32;
  border-radius: rem(10);
  box-shadow: rem(10) rem(10) rem(20) rgba(0, 0, 0, 0.2);
  overflow-y: auto;
  z-index: 10000;

  @include mq(md) {
    width: calc(100% - #{rem(60)});
  }
}

.p-map-modal__close {
  position: absolute;
  top: rem(18);
  right: rem(18);
  width: rem(44);
  height: rem(44);
  background-color: transparent;
  border: none;
  font-size: rem(34);
  cursor: pointer;
  z-index: 10001;
  color: #222;
  line-height: 1;
}

.p-map-modal__close:hover {
  opacity: 0.7;
}

.p-map-modal__body {
  padding: rem(60) rem(20) rem(60);

  @include mq(md) {
    padding: rem(70) rem(50) rem(70);
  }

  @include mq(lg) {
    padding: rem(75) rem(75) rem(75);
  }
}

.p-map-modal__title {
  font-family: "ZenKakuGothicNew-Bold", sans-serif;
  font-size: rem(28);
  font-weight: 700;
  line-height: 1.4;
  letter-spacing: 0.2em;
  color: #222;
  text-align: center;
  margin-bottom: rem(28);

  @include mq(md) {
    font-size: clamp(20px, 2vw, 24px);
    margin-bottom: rem(20);
  }
  @include mq(md) {
    font-size: rem(40);
    margin-bottom: rem(35);
  }
}

.p-map-modal__empty {
  font-family: "Zen Kaku Gothic New", sans-serif;
  font-size: rem(14);
  font-weight: 500;
  line-height: 1.6;
  letter-spacing: 0.06em;
  color: #222222;
  text-align: center;

  @include mq(md) {
    font-size: rem(16);
  }
}

/* タブ */
.p-map-modal__tabs {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: rem(24);
  gap: rem(6);
  @include mq(md) {
    margin-bottom: rem(45);
    gap: rem(8);
  }
  @include mq(lg) {
    gap: rem(10);
    margin-bottom: rem(80);
  }
}

.p-map-modal__tab {
  border: 1px solid #222;
  border-radius: rem(4);
  display: flex;
  align-items: center;
  justify-content: center;
  background: #fff;
  color: #222;
  font-family: "Zen Kaku Gothic New", sans-serif;
  font-size: rem(16);
  font-weight: 700;
  letter-spacing: 0.06em;
  cursor: pointer;
  transition: opacity 0.2s ease, background-color 0.2s ease, color 0.2s ease;
  font-size: rem(14);
  width: rem(80);
  height: rem(28);

  @include mq(md) {
    width: rem(140);
    height: rem(48);
    font-size: clamp(14px, 2vw, 14px);
  }
  @include mq(lg) {
    width: rem(150);
    height: rem(57);
    font-size: rem(20);
  }
}

.p-map-modal__tab:hover {
  opacity: 0.85;
}

.p-map-modal__tab.is-active {
  background: #222;
  color: #fff;
}

/* 店舗リスト */
.p-map-modal__shop {
  & + & {
    margin-top: rem(40);
  }
}

.p-map-modal__shopName {
  font-family: "Zen Kaku Gothic New", sans-serif;
  font-size: rem(18);
  font-weight: 700;
  line-height: 1.4;
  letter-spacing: 0.06em;
  color: #37af32;
  margin-bottom: rem(12);
  @include mq(md) {
    margin-bottom: rem(20);
    font-size: clamp(18px, 2vw, 18px);
  }
  @include mq(lg) {
    font-size: rem(24);
  }
}

.p-map-modal__dl {
  display: grid;
  gap: rem(3);
  width: 100%;
}

.p-map-modal__row {
  display: grid;
  grid-template-columns: 1fr;
  column-gap: rem(20);
  align-items: center;
  border-radius: rem(5);
  font-family: "Zen Kaku Gothic New", sans-serif;
  font-size: rem(14);
  line-height: calc(32 / 20);
  letter-spacing: 0.06em;
  color: #222;
  padding: rem(8) rem(20);

  @include mq(md) {
    font-size: clamp(14px, 2vw, 14px);
    grid-template-columns: rem(180) 1fr;
    column-gap: rem(30);
    padding: rem(8) rem(20);
  }
  @include mq(md) {
    padding: rem(10) rem(40);
    font-size: rem(20);
    column-gap: rem(40);
  }
}

.p-map-modal__row--odd {
  background: #f6f6f6;
}

.p-map-modal__row--even {
  background: #eeeeee;
}

.p-map-modal__dt {
  font-weight: 700;
  text-align: left;
}

.p-map-modal__dd {
  font-weight: 500;
  word-break: break-word;
  margin-top: rem(8);
  @include mq(md) {
    margin-top: initial;
  }
}

/* モーダルOPEN中のスクロールロック用（JSでbodyに付ける） */
.is-modal-open {
  overflow: hidden;
}
.p-map__btn {
  cursor: pointer;
  transition: opacity 0.3s ease;
}
.p-map__btn:hover {
  opacity: 0.7;
}
